{"version":3,"sources":["../../../src/panels/incident-list/editor.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAM;AACF,yBADE,gCACF,CAAY,MAAZ,EAAoB,UAApB,EAAgC,EAAhC,EAAoC,YAApC,EAAkD,aAAlD,EAAiE,WAAjE,EAA8E;0CAD5E,kCAC4E;;AAC1E,2BAAO,MAAP,GAAgB,IAAhB,CAD0E;AAE1E,yBAAK,SAAL,GAAiB,OAAO,IAAP,CAFyD;AAG1E,yBAAK,KAAL,GAAa,KAAK,SAAL,CAAe,KAAf,CAH6D;AAI1E,yBAAK,EAAL,GAAU,EAAV,CAJ0E;;AAM1E,wBAAI,OAAO,IAAP,CANsE;AAO1E,yBAAK,aAAL,GAAqB,aAArB,CAP0E;AAQ1E,wBAAI,cAAc,EAAE,MAAF,CAAS,KAAK,aAAL,CAAmB,gBAAnB,EAAT,EAAgD,sBAAc;AAC5E,+BAAO,WAAW,IAAX,CAAgB,EAAhB,KAAuB,kBAAvB,CADqE;qBAAd,CAA9D,CARsE;AAW1E,yBAAK,WAAL,GAAmB,EAAE,GAAF,CAAM,WAAN,EAAmB,MAAnB,CAAnB,CAX0E;AAY1E,wBAAI,CAAC,KAAK,KAAL,CAAW,UAAX,EAAuB;AACxB,6BAAK,KAAL,CAAW,UAAX,GAAwB,KAAK,WAAL,CAAiB,CAAjB,CAAxB,CADwB;qBAA5B;AAGA,yBAAK,aAAL,CAAmB,GAAnB,CAAuB,KAAK,KAAL,CAAW,UAAX,CAAvB,CAA8C,IAA9C,CAAmD,UAAU,UAAV,EAAsB;AACrE,6BAAK,UAAL,GAAkB,UAAlB,CADqE;AAErE,6BAAK,SAAL,CAAe,OAAf,GAFqE;qBAAtB,CAAnD,CAf0E;AAmB1E,yBAAK,WAAL,GAAmB,WAAnB,CAnB0E;iBAA9E;;6BADE;;wDAuBkB;AAChB,6BAAK,SAAL,CAAe,OAAf,GADgB;;;;uBAvBlB;;;AA4BC,qBAAS,4BAAT,GAAwC;AAC3C,uBAAO;AACH,8BAAU,GAAV;AACA,2BAAO,IAAP;AACA,iCAAa,2DAAb;AACA,gCAAY,gCAAZ;iBAJJ,CAD2C;aAAxC","file":"editor.js","sourcesContent":["class BosunIncidentListPanelEditorCtrl {\n    constructor($scope, $rootScope, $q, uiSegmentSrv, datasourceSrv, templateSrv) {\n        $scope.editor = this;\n        this.panelCtrl = $scope.ctrl;\n        this.panel = this.panelCtrl.panel;\n        this.$q = $q;\n\n        var self = this;\n        this.datasourceSrv = datasourceSrv;\n        var datasources = _.filter(this.datasourceSrv.getMetricSources(), datasource => {\n            return datasource.meta.id === 'bosun-datasource';\n        });\n        this.datasources = _.map(datasources, 'name');\n        if (!this.panel.datasource) {\n            this.panel.datasource = this.datasources[0];\n        }\n        this.datasourceSrv.get(this.panel.datasource).then(function (datasource) {\n            self.datasource = datasource;\n            self.panelCtrl.refresh();\n        });\n        this.templateSrv = templateSrv;\n    }\n\n    datasourceChanged() {\n        this.panelCtrl.refresh();\n    }\n}\n\nexport function bosunIncidentListPanelEditor() {\n    return {\n        restrict: 'E',\n        scope: true,\n        templateUrl: 'public/plugins/bosun-app/panels/incident-list/editor.html',\n        controller: BosunIncidentListPanelEditorCtrl,\n    };\n}"]}